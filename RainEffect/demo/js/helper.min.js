function getTQBegin(){var e="https://restapi.amap.com/v3/ip?output=json&key=761d856bd2714d9d486c9dfb3dcd796c",t="\u5730\u70b9\uff1a\u5317\u4eac",r="110101";$.getJSON(e,function(e){"1"==e.status&&"OK"==e.info&&(t=e.city,r=e.adcode,$.getJSON("https://restapi.amap.com/v3/weather/weatherInfo?city="+r+"&key=761d856bd2714d9d486c9dfb3dcd796c",function(e){try{if(null==e||"OK"!=e.info||"1"!=e.status||0==e.lives.count)return;var n=e.lives[0],a=n.reporttime,s=a.split(" ");s[1];s=s[0].split("-");s[2],s[1],s[0];document.getElementById("Temperature-0").innerHTML=n.temperature+"\xb0<small>C</small>";var c=getWeather(n.weather);document.getElementById("slide-0").getAttributeNode("data-weather").value=getWeatherShow(c),document.getElementById("item-0").className=getWeatherCss(c),M_Event.fireEvent("updateWeather")}catch(i){alert(i)}$.getJSON("https://restapi.amap.com/v3/weather/weatherInfo?city="+r+"&extensions=all&key=761d856bd2714d9d486c9dfb3dcd796c",function(e){try{if(null==e||"OK"!=e.info||"1"!=e.status||0==e.forecasts.count)return;if(e.forecasts[0].casts.length>0)for(var r=e.forecasts[0].casts,n=0;n<r.length;n++){var a=r[n].date,s=a.split("-"),c=s[2],i=s[1],u=s[0];if(document.getElementById("cityName-"+n).innerHTML="\u5730\u70b9\uff1a"+t,document.getElementById("date-"+n).innerHTML=i+"/"+c,0==n)document.getElementById("weekAndMonth-"+n).innerHTML=getWeek(r[n].week)+", "+c+"<sup>th</sup> of "+getMonth(i)+" "+u;else if(null!=r[n]){var o=r[n].dayweather;("\u6674"==o||"\u591a\u4e91"==o)&&(o=r[n].nightweather);var d=getWeather(o);document.getElementById("weekAndMonth-"+n).innerHTML=getWeek(r[n].week)+", "+c+"<sup>th</sup> of "+getMonth(i)+" "+u,document.getElementById("Temperature-"+n).innerHTML=r[n].daytemp+"<small>~ "+r[n].nighttemp+"\xb0C</small>",document.getElementById("slide-"+n).getAttributeNode("data-weather").value=getWeatherShow(d),document.getElementById("item-"+n).className=getWeatherCss(d)}}}catch(l){alert(l)}})}))})}function getWeek(e){switch(e){case"1":return"Monday";case"2":return"Tuesday";case"3":return"Wednesday";case"4":return"Thursday";case"5":return"Friday";case"6":return"Saturday";case"7":return"Sunday";default:return"Monday"}}function getMonth(e){switch(e){case"01":return"January";case"02":return"February";case"03":return"March";case"04":return"April";case"05":return"May";case"06":return"June";case"07":return"July";case"08":return"August";case"09":return"September";case"10":return"October";case"11":return"November";case"12":return"December";default:return"December"}}function getWeatherCss(e){switch(e){case"sunny":return"wi wi-day-sunny wi-big";case"drizzle":return"wi wi-sprinkle wi-big";case"rain":return"wi wi-rain wi-big";case"sleet":return"wi wi-sleet wi-big";case"snow":return"wi wi-snow wi-big";case"storm":return"wi wi-thunderstorm wi-big";case"fog":return"wi wi-fog wi-big";case"cloudy":return"wi wi-cloudy wi-big";case"cloud":return"wi wi-day-cloudy wi-big";case"tornado":return"wi wi-tornado wi-big";case"sandstorm":return"wi wi-sandstorm wi-big";default:return"wi wi-day-sprinkle wi-big"}}function getWeatherShow(e){switch(e){case"sunny":case"cloud":return"sunny";case"cloudy":case"drizzle":return"drizzle";case"rain":case"snow":return"rain";case"storm":return"storm";case"tornado":case"sandstorm":case"fog":return"fallout";default:return"drizzle"}}function getWeather(e){switch(e){case"\u6674":return"sunny";case"\u591a\u4e91":return"cloud";case"\u9634":return"cloudy";case"\u5c0f\u96e8":case"\u5c0f\u96e8-\u4e2d\u96e8":return"drizzle";case"\u4e2d\u96e8":case"\u5927\u96e8":return"rain";case"\u51bb\u96e8":case"\u96e8\u5939\u96ea":return"sleet";case"\u66b4\u96e8":case"\u5927\u66b4\u96e8":case"\u7279\u5927\u66b4\u96e8":case"\u4e2d\u96e8-\u5927\u96e8":case"\u5927\u96e8-\u66b4\u96e8":case"\u66b4\u96e8-\u5927\u66b4\u96e8":case"\u5927\u66b4\u96e8-\u7279\u5927\u66b4\u96e8":case"\u9635\u96e8":case"\u96f7\u9635\u96e8":case"\u96f7\u9635\u96e8\u5e76\u4f34\u6709\u51b0\u96f9":return"storm";case"\u9635\u96ea":case"\u5c0f\u96ea":case"\u4e2d\u96ea":case"\u5927\u96ea":case"\u66b4\u96ea":case"\u5c0f\u96ea-\u4e2d\u96ea":case"\u4e2d\u96ea-\u5927\u96ea":case"\u5927\u96ea-\u66b4\u96ea":return"snow";case"\u96fe":case"\u8f7b\u96fe":case"\u973e":return"fog";case"\u6c99\u5c18\u66b4":case"\u6d6e\u5c18":case"\u626c\u6c99":case"\u5f3a\u6c99\u5c18\u66b4":case"\u5f31\u9ad8\u5439\u96ea":return"sandstorm";case"\u98d1":case"\u9f99\u5377\u98ce":return"tornado";default:return"drizzle"}}var M_Event={_listeners:{},addEvent:function(e,t){return"undefined"==typeof this._listeners[e]&&(this._listeners[e]=[]),"function"==typeof t&&this._listeners[e].push(t),this},fireEvent:function(e){var t=this._listeners[e];if(t instanceof Array)for(var r=0,n=t.length;n>r;r+=1)"function"==typeof t[r]&&t[r]({type:e});return this},removeEvent:function(e,t){var r=this._listeners[e];if("string"==typeof e&&r instanceof Array)if("function"==typeof t){for(var n=0,a=r.length;a>n;n+=1)if(r[n]===t){this._listeners[e].splice(n,1);break}}else delete this._listeners[e];return this}};