HomerunChampion.Level=function(){},HomerunChampion.Level.prototype={create:function(){this.levelArr=[],this.levelStage=1,this.game.add.sprite(0,0,"bg_popup"),this.game.add.sprite(47,167,"logo_level"),this.leftBtn=this.game.add.button(.25*this.game.width,.75*this.game.height,"btn_left",this.onLeft,this,null,0,1),this.leftBtn.anchor.setTo(.5,.5),this.leftBtn.visible=!1,this.rightBtn=this.game.add.button(.75*this.game.width,.75*this.game.height,"btn_right",this.onRight,this,null,0,1),this.rightBtn.anchor.setTo(.5,.5),this.menuBtn=this.game.add.button(.5*this.game.width,.75*this.game.height,"btn_close",this.onMenu,this,null,0,1),this.menuBtn.anchor.setTo(.5,.5),this.guiStage=this.game.add.sprite(320,293,"gui_cup"),this.guiStage.anchor.setTo(.5,.5),this.levelPopup=this.game.add.group(),this.levelArr=[];for(var e=UtilSave.getRecord("com.tempalabs.homerunchampion.level"),t=0;8>t;t++){var l=t%4*120+90,i=120*Math.floor(t/4)+400,a=this.game.add.group(),h=this.levelPopup.create(l,i,"btn_level");h.frame=e>=t?0:1;var s=this.levelPopup.create(l+45,i+30,"gui_rating_small"),r=UtilSave.getRecord("com.tempalabs.homerunchampion.star."+t);s.visible=e>=t?!0:!1,s.frame=r;var n=this.game.add.bitmapText(l+30,i+25,"deathemaach",""+(t+1),50);n.align="center",a.add(h),a.add(s),a.add(n),a.guiStar=s,a.levelTxt=n,a.levelImg=h,h.inputEnabled=!0,h.parent=a,h.events.onInputDown.add(this.onLevel,this),this.levelArr.push(a)}this.levelPopup.y=-40},onLevel:function(e){UtilSound.playSound("sfx_button");var t=UtilSave.getRecord("com.tempalabs.homerunchampion.level");8*(this.levelStage-1)+this.levelArr.indexOf(e.parent)<=t&&(this.game.levelNum=8*(this.levelStage-1)+this.levelArr.indexOf(e.parent),this.game.state.start("games"))},onLeft:function(){if(UtilSound.playSound("sfx_button"),this.levelStage>1){this.levelStage--,this.guiStage.frame=this.levelStage-1;for(var e=UtilSave.getRecord("com.tempalabs.homerunchampion.level"),t=0;t<this.levelArr.length;t++){this.levelArr[t].levelTxt.setText(""+(8*(this.levelStage-1)+t+1)),this.levelArr[t].levelImg.frame=8*(this.levelStage-1)+t<=e?0:1;var l=UtilSave.getRecord("com.tempalabs.homerunchampion.star."+(8*(this.levelStage-1)+t));this.levelArr[t].guiStar.frame=l,this.levelArr[t].guiStar.visible=8*(this.levelStage-1)+t<=e?!0:!1}1==this.levelStage&&(this.leftBtn.visible=!1),this.rightBtn.visible=!0}},onRight:function(){if(UtilSound.playSound("sfx_button"),this.levelStage<3){this.levelStage++,this.guiStage.frame=this.levelStage-1;for(var e=UtilSave.getRecord("com.tempalabs.homerunchampion.level"),t=0;t<this.levelArr.length;t++){this.levelArr[t].levelTxt.setText(""+(8*(this.levelStage-1)+t+1)),this.levelArr[t].levelImg.frame=8*(this.levelStage-1)+t<=e?0:1;var l=UtilSave.getRecord("com.tempalabs.homerunchampion.star."+(8*(this.levelStage-1)+t));this.levelArr[t].guiStar.frame=l,this.levelArr[t].guiStar.visible=8*(this.levelStage-1)+t<=e?!0:!1}3==this.levelStage&&(this.rightBtn.visible=!1),this.leftBtn.visible=!0}},onMenu:function(){UtilSound.playSound("sfx_button"),this.game.state.start("title")}};